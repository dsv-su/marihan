From f1be2edd4a4ce11adf3c1a2929d6195cf47e582f Mon Sep 17 00:00:00 2001
From: Pavel Sokolov <pavel.m.sokolov@gmail.com>
Date: Mon, 20 May 2019 10:54:42 +0300
Subject: [PATCH] Fixing mailsimulator submit button

---
 mod/assign/amd/build/grading_panel.min.js | Bin 5924 -> 5965 bytes
 mod/assign/amd/src/grading_panel.js       |   4 +++-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/mod/assign/amd/build/grading_panel.min.js b/mod/assign/amd/build/grading_panel.min.js
index e30c7130da301d25a93db5fdf6148564ff75fc17..0d0a80d0321e35702d6c24237856407d62d2c163 100644
GIT binary patch
delta 55
zcmZ3YcUEu1ArZCAG>wvs%woN~#N1RxTlL(;%$(xP+|r!HlKi6hwA9p;q{QTG^~ncB
LL^od%319*MS%4K3

delta 31
mcmX@Bw?uElArYZOy@I0Dvedj1m(;Yx(wq_v&CP#B0+;~G@(d*a

diff --git a/mod/assign/amd/src/grading_panel.js b/mod/assign/amd/src/grading_panel.js
index da11d9db1b4..b4b2b7421b9 100644
--- a/mod/assign/amd/src/grading_panel.js
+++ b/mod/assign/amd/src/grading_panel.js
@@ -379,7 +379,9 @@ define(['jquery', 'core/yui', 'core/notification', 'core/templates', 'core/fragm
         var region = $(this._region);
         // Add an event listener to prevent form submission when pressing enter key.
         region.on('submit', 'form', function(e) {
-            e.preventDefault();
+            if (this.name != 'mailsimulator_feedback') {
+                e.preventDefault();
+            }
         });
 
         docElement.on('next-user', this._getNextUser.bind(this));
-- 
2.24.0

